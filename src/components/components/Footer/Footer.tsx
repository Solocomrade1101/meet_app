import {type FC, useState} from "react";
import s from './Footer.module.scss'
import {useLocation, useNavigate} from "react-router-dom";
import cn from "classnames";

export const Footer:FC = () => {
    const location = useLocation();
    const isHomeActive = location.pathname === '/home' || location.pathname === '/';
    const isFavoriteActive = location.pathname === '/favorite';
    const navigate = useNavigate()
    const [talkOpen, setTalkOpen] = useState<boolean>(false)

    return (
        <>
            <div className={s.container}>
                <button className={cn(s.button, isHomeActive && s.active)} onClick={() => navigate(`/`)}>
                    <svg width="29" height="28" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd"
                              d="M9.72547 2.45013C10.3054 2.45013 10.7755 2.92024 10.7755 3.50013V4.5537C11.1099 4.54981 11.4693 4.54994 11.858 4.55008C11.932 4.55011 12.0071 4.55013 12.0833 4.55013H18.5578V3.50013C18.5578 2.92024 19.0279 2.45013 19.6078 2.45013C20.1877 2.45013 20.6578 2.92024 20.6578 3.50013V4.65134C23.161 5.14062 25.05 7.34586 25.05 9.99229V17.0789C25.05 18.3472 25.05 19.363 24.9829 20.184C24.914 21.0271 24.7692 21.757 24.4269 22.4288C23.8788 23.5044 23.0043 24.379 21.9286 24.9271C21.2568 25.2694 20.527 25.4142 19.6839 25.4831C18.8628 25.5502 17.847 25.5501 16.5788 25.5501H12.7545C11.4863 25.5501 10.4705 25.5502 9.64942 25.4831C8.80631 25.4142 8.07648 25.2694 7.40466 24.9271C6.329 24.379 5.45447 23.5044 4.90639 22.4288C4.56408 21.757 4.41926 21.0271 4.35038 20.184C4.28329 19.363 4.2833 18.3472 4.28331 17.0789L4.28331 12.3501C4.28331 12.2739 4.28328 12.1988 4.28326 12.1248C4.28263 10.403 4.28221 9.25721 4.63112 8.30322C5.2094 6.72207 6.45525 5.47623 8.03639 4.89795C8.23949 4.82367 8.45128 4.76522 8.67547 4.71924V3.50013C8.67547 2.92024 9.14557 2.45013 9.72547 2.45013ZM8.67547 6.90139C7.71426 7.27965 6.95912 8.05179 6.60335 9.02453C6.43922 9.4733 6.39675 10.0378 6.38643 11.3001H22.95V9.99229C22.95 8.51327 21.9893 7.25864 20.6578 6.8184V7.70013C20.6578 8.28003 20.1877 8.75013 19.6078 8.75013C19.0279 8.75013 18.5578 8.28003 18.5578 7.70013V6.65013H12.0833C11.5709 6.65013 11.141 6.65116 10.7755 6.65596V7.70013C10.7755 8.28003 10.3054 8.75013 9.72547 8.75013C9.14557 8.75013 8.67547 8.28003 8.67547 7.70013V6.90139ZM22.95 13.4001H6.38331V17.0335C6.38331 18.3576 6.38413 19.2875 6.4434 20.013C6.50168 20.7263 6.61118 21.149 6.7775 21.4754C7.12424 22.1559 7.67752 22.7092 8.35804 23.0559C8.68448 23.2223 9.10718 23.3318 9.82042 23.39C10.5459 23.4493 11.4759 23.4501 12.8 23.4501H16.5333C17.8574 23.4501 18.7874 23.4493 19.5129 23.39C20.2261 23.3318 20.6488 23.2223 20.9752 23.0559C21.6558 22.7092 22.209 22.1559 22.5558 21.4754C22.7221 21.149 22.8316 20.7263 22.8899 20.013C22.9492 19.2875 22.95 18.3576 22.95 17.0335V13.4001Z"
                        />
                    </svg>
                </button>
                <button className={cn(s.button, isFavoriteActive && s.active)} onClick={() => navigate(`/favorite`)}>
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd"
                              d="M13.9969 5.55993C13.0024 4.62848 11.6542 3.8823 10.174 3.61043C8.41234 3.28686 6.46431 3.63947 4.7718 5.13415C3.64391 6.1302 2.93835 7.69724 2.70455 9.39059C2.46878 11.0982 2.69837 13.0194 3.53838 14.7997C4.1461 16.0877 5.59286 17.708 7.09624 19.1995C8.63263 20.7237 10.3433 22.2231 11.5952 23.2828C12.987 24.461 15.0068 24.461 16.3987 23.2828C17.6505 22.2231 19.3612 20.7237 20.8976 19.1995C22.4009 17.708 23.8477 16.0877 24.4554 14.7997C25.2954 13.0194 25.525 11.0982 25.2893 9.39061C25.0555 7.69725 24.3499 6.13021 23.222 5.13416C21.5295 3.63948 19.5815 3.28687 17.8198 3.61043C16.3396 3.8823 14.9914 4.62848 13.9969 5.55993ZM9.84881 5.38081C8.57509 5.14686 7.20116 5.39017 5.96329 6.48334C5.24374 7.11879 4.68029 8.24144 4.48763 9.63678C4.29695 11.0179 4.48346 12.5844 5.16628 14.0316C5.62099 14.9954 6.84266 16.4124 8.36397 17.9216C9.85227 19.3982 11.5226 20.863 12.7581 21.9089C13.4787 22.5189 14.5151 22.5189 15.2357 21.909C16.4712 20.863 18.1415 19.3982 19.6298 17.9216C21.1511 16.4124 22.3728 14.9954 22.8275 14.0316C23.5103 12.5844 23.6969 11.0179 23.5062 9.6368C23.3135 8.24146 22.7501 7.11881 22.0305 6.48336C20.7926 5.39018 19.4187 5.14687 18.145 5.38082C16.8406 5.62039 15.6424 6.36472 14.8738 7.2376C14.4093 7.76501 13.5845 7.76501 13.12 7.2376C12.3514 6.36472 11.1532 5.62039 9.84881 5.38081Z"
                        />
                    </svg>

                </button>
                <button className={s.button} onClick={(event) => {
                    event.stopPropagation()
                    setTalkOpen(true)
                }}>
                    <svg width="29" height="28" viewBox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd"
                              d="M14.3334 4.2395C8.9428 4.2395 4.57287 8.60942 4.57287 14C4.57287 19.3906 8.9428 23.7605 14.3334 23.7605C19.724 23.7605 24.0939 19.3906 24.0939 14C24.0939 8.60942 19.724 4.2395 14.3334 4.2395ZM2.83337 14C2.83337 7.64872 7.9821 2.5 14.3334 2.5C20.6846 2.5 25.8334 7.64872 25.8334 14C25.8334 20.3513 20.6846 25.5 14.3334 25.5C7.9821 25.5 2.83337 20.3513 2.83337 14ZM14.3334 8.78151C14.8137 8.78151 15.2031 9.17091 15.2031 9.65126V13.1303H18.6821C19.1625 13.1303 19.5519 13.5197 19.5519 14C19.5519 14.4803 19.1625 14.8697 18.6821 14.8697H15.2031V18.3487C15.2031 18.8291 14.8137 19.2185 14.3334 19.2185C13.853 19.2185 13.4636 18.8291 13.4636 18.3487V14.8697H9.98463C9.50429 14.8697 9.11489 14.4803 9.11489 14C9.11489 13.5197 9.50429 13.1303 9.98463 13.1303H13.4636V9.65126C13.4636 9.17091 13.853 8.78151 14.3334 8.78151Z"
                        />
                    </svg>
                </button>
            </div>
            {talkOpen && (
                <div className={s.overlay} onClick={(event) => {
                    if (event.target === event.currentTarget) {
                        setTalkOpen(false)
                    }
                }}>
                    <div className={s.talk}>
                        <div className={s.top}>
                            <span className={s.title}>Предложить событие</span>
                            <button onClick={(event) => {
                                event.stopPropagation()

                                setTalkOpen(false)
                            }}>
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fillRule="evenodd" clipRule="evenodd"
                                          d="M3.74644 3.69976C4.03739 3.40493 4.51225 3.40178 4.80708 3.69273L9.99487 8.81221L15.1827 3.69273C15.4775 3.40178 15.9524 3.40493 16.2433 3.69976C16.5342 3.99459 16.5311 4.46945 16.2363 4.7604L11.0626 9.86591L16.2363 14.9714C16.5311 15.2624 16.5342 15.7372 16.2433 16.0321C15.9524 16.3269 15.4775 16.33 15.1827 16.0391L9.99487 10.9196L4.80708 16.0391C4.51225 16.33 4.03739 16.3269 3.74644 16.0321C3.45549 15.7372 3.45864 15.2624 3.75347 14.9714L8.92711 9.86591L3.75347 4.7604C3.45864 4.46945 3.45549 3.99459 3.74644 3.69976Z"
                                          fill="#78818F"/>
                                    <path
                                        d="M15.184 3.56212C15.5196 3.2923 16.0117 3.31537 16.3207 3.62853L16.3783 3.69298C16.6306 4.00631 16.6279 4.45623 16.3715 4.76622L16.3129 4.83068L11.2103 9.86486L16.3129 14.899L16.3715 14.9635C16.6275 15.2734 16.6303 15.7226 16.3783 16.0358L16.3207 16.1012C16.0116 16.4143 15.5196 16.4366 15.184 16.1666L15.1186 16.109L10.0004 11.0592L4.8832 16.109C4.56991 16.4179 4.07747 16.4343 3.74551 16.1598L3.68105 16.1012C3.35142 15.767 3.35574 15.2287 3.68984 14.899L8.79043 9.86486L3.68984 4.83068C3.35584 4.50107 3.35173 3.9627 3.68105 3.62853L3.74551 3.56896C4.0774 3.29467 4.56996 3.31104 4.8832 3.61974L10.0004 8.66954L15.1186 3.61974L15.184 3.56212ZM16.2494 3.69884C15.9585 3.40406 15.4837 3.40023 15.1889 3.69103L10.0014 8.81114L4.81289 3.69103C4.51803 3.40047 4.04316 3.40414 3.75234 3.69884C3.46179 3.9937 3.46546 4.46857 3.76015 4.75939L8.93301 9.86486L3.76015 14.9703C3.46536 15.2612 3.46149 15.736 3.75234 16.0309C4.04322 16.3256 4.51805 16.3284 4.81289 16.0377L10.0014 10.9186L15.1889 16.0377C15.4836 16.3286 15.9585 16.3256 16.2494 16.0309C16.5403 15.7361 16.5372 15.2613 16.2426 14.9703L11.0687 9.86486L16.2426 4.75939C16.5374 4.46849 16.5402 3.99368 16.2494 3.69884Z"
                                        fill="#78818F"/>
                                </svg>
                            </button>
                        </div>

                        <div className={s.text}>
                            Если вы знаете крутые мероприятия или организуете что-то сами, расскажите нам)
                        </div>

                        <a href={'https://t.me/User180126'} target={"_blank"} className={s.button}>Рассказать о событии</a>
                    </div>
                </div>
            )}
        </>


    )
}